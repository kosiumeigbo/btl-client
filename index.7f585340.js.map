{"mappings":"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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6b97ac8252ed4aee.js","src/index.ts","src/router.ts","src/navControl.ts","src/hamburgerControl.ts","src/components/home-page.ts","src/components/nyt-category-card.ts","src/components/nyt-book-card.ts","src/model.ts","src/config.ts","src/components/search-page.ts","src/components/book-obj-card.ts","node_modules/@parcel/runtime-js/lib/runtime-1e10d78cfb1079b2.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequirebde6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequirebde6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $93530f07b8623817$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"1LzKV\",\"index.7f585340.js\",\"7Lx5k\",\"generic-book.b8da78ac.png\"]'));\n\n\"use strict\";\n\n\nconst $2611d7f58e198473$var$elBooksToRead = document.getElementById(\"books-to-read-total\");\nconst $2611d7f58e198473$var$elBooksInProgress = document.getElementById(\"books-in-progress-total\");\nconst $2611d7f58e198473$var$elBooksDone = document.getElementById(\"books-done-total\");\nconst $2611d7f58e198473$var$elLibraryTotal = document.getElementById(\"library-total\");\nif ($2611d7f58e198473$var$elBooksToRead !== null && $2611d7f58e198473$var$elBooksInProgress !== null && $2611d7f58e198473$var$elBooksDone !== null && $2611d7f58e198473$var$elLibraryTotal !== null) document.addEventListener(\"lib-btn-pressed\", (e)=>{\n    const detail = e.detail;\n    console.log(detail);\n    $2611d7f58e198473$var$elBooksToRead.textContent = detail.totalBooksToRead().toString();\n    $2611d7f58e198473$var$elBooksInProgress.textContent = detail.totalBooksInProgress().toString();\n    $2611d7f58e198473$var$elBooksDone.textContent = detail.totalBooksDone().toString();\n    $2611d7f58e198473$var$elLibraryTotal.textContent = (detail.totalBooksToRead() + detail.totalBooksInProgress() + detail.totalBooksDone()).toString();\n});\n\n\n\"use strict\";\nconst $4b79e92dc6bca81b$var$hamburgerButton = document.querySelector(\".hamburger i\");\nconst $4b79e92dc6bca81b$var$navSection = document.querySelector(\"nav\");\nconst $4b79e92dc6bca81b$var$closeBtn = document.querySelector(\".close-btn\");\nif ($4b79e92dc6bca81b$var$hamburgerButton !== null) $4b79e92dc6bca81b$var$hamburgerButton.addEventListener(\"click\", function(e) {\n    if ($4b79e92dc6bca81b$var$navSection !== null) $4b79e92dc6bca81b$var$navSection.classList.add(\"hamburger-clicked\");\n});\nif ($4b79e92dc6bca81b$var$closeBtn !== null) $4b79e92dc6bca81b$var$closeBtn.addEventListener(\"click\", function(e) {\n    if ($4b79e92dc6bca81b$var$navSection !== null) $4b79e92dc6bca81b$var$navSection.classList.remove(\"hamburger-clicked\");\n});\n\n\nclass $d4f1bc7b0e4909bf$export$2e2bcd8739ae039 extends HTMLElement {\n    _data;\n    constructor(){\n        super();\n        this.classList.add(\"nyt-book-card\");\n    }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        if (this._data !== data) {\n            this._data = data;\n            this.render();\n        }\n    }\n    render() {\n        this.innerHTML = this.getMarkUp();\n    }\n    getMarkUp() {\n        return `\n      <a href=\"/book?isbn=${this._data.isbn}\">\n        <div><img src=\"${this._data.imageSource}\" alt=\"${this._data.title} by ${this._data.author} cover photo\" /></div>\n        <p>${this._data.title}</p>\n        <p><span>${this._data.author}</span></p>\n      </a>\n      `;\n    }\n}\ncustomElements.define(\"nyt-book-card\", $d4f1bc7b0e4909bf$export$2e2bcd8739ae039);\n\n\nclass $efa215daeca880c5$export$2e2bcd8739ae039 extends HTMLElement {\n    _data;\n    constructor(){\n        super();\n        this.classList.add(\"nyt-category-card\");\n    }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        if (this._data !== data) {\n            this._data = data;\n            this.render();\n            const allBookCardEls = this.querySelectorAll(\"nyt-book-card\");\n            allBookCardEls.forEach((book, index)=>{\n                book.data = this.data.books[index];\n            });\n        }\n    }\n    connectedCallback() {}\n    render() {\n        this.innerHTML = this.getMarkUp();\n    }\n    getMarkUp() {\n        return `\n        <h2>${this._data.listName}</h2>\n        <div>\n        ${this._data.books.map((bk)=>{\n            return `<nyt-book-card></nyt-book-card>`;\n        }).join(\"\")}\n        </div>\n      `;\n    }\n}\ncustomElements.define(\"nyt-category-card\", $efa215daeca880c5$export$2e2bcd8739ae039);\n\n\nconst $2c680b472f58150a$export$bd32ffbf4b3332d0 = \"LdtHYiyVFZ8XYsUSqTxpeal9VFqsvDbs\";\nconst $2c680b472f58150a$export$ac7cf50e2985a171 = \"https://api.nytimes.com/svc/books/v3/lists/overview.json\";\nconst $2c680b472f58150a$export$af6d6d1dacc88501 = \"AIzaSyAgq8935QbNIHZ27D5kf-LIWkUazKv8pV8\";\nconst $2c680b472f58150a$export$4f8eae1c44114f3f = 240000; // NYTimes URL example: \"https://api.nytimes.com/svc/books/v3/lists/overview.json?api-key=LdtHYiyVFZ8XYsUSqTxpeal9VFqsvDbs\"\n // OpenLibrary URL example: \"https://openlibrary.org/api/books?bibkeys=ISBN:9781649374042&format=json&jscmd=data\"\n\n\nconst $b5fff788044e8818$export$ca000e230c0caa3e = {\n    viewedBook: \"No result\",\n    nyTimesBestSeller: [],\n    search: {\n        query: \"\",\n        result: null\n    },\n    libraryBooks: [],\n    nonLibraryBooks: [],\n    locations: [\n        \"booksDone\",\n        \"booksInProgress\",\n        \"booksToRead\"\n    ]\n};\n// Function resets the state.search properties to their default values\nconst $b5fff788044e8818$export$732216ae7a4dfc6c = function() {\n    $b5fff788044e8818$export$ca000e230c0caa3e.search.query = \"\";\n    $b5fff788044e8818$export$ca000e230c0caa3e.search.result = null;\n};\n// Function takes in the isbn from the data-isbn property and the btnLibrary param is from the data-library property\n// on the pressed button. It returns either the\nconst $b5fff788044e8818$export$21fa342788cd4585 = function(btnDataset, isbn) {\n    const bookLibraryIndex = $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.findIndex((bk)=>bk.isbn === isbn);\n    const bookLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.find((bk)=>bk.isbn === isbn);\n    if (bookLibraryIndex !== -1 && bookLibrary !== undefined) {\n        if (bookLibrary.location === btnDataset) {\n            const [updatedBk] = $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.splice(bookLibraryIndex, 1);\n            updatedBk.location = \"not-in-library\";\n            $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.push(updatedBk);\n            return updatedBk;\n        }\n        bookLibrary.location = btnDataset;\n        $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.splice(bookLibraryIndex, 1, bookLibrary);\n        return bookLibrary;\n    }\n    const bookNonLibraryIndex = $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.findIndex((bk)=>bk.isbn === isbn);\n    const bookNonLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.find((bk)=>bk.isbn === isbn);\n    if (bookNonLibraryIndex !== -1 && bookNonLibrary !== undefined) {\n        const [updatedBk] = $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.splice(bookNonLibraryIndex, 1);\n        updatedBk.location = btnDataset;\n        $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.push(updatedBk);\n        return updatedBk;\n    }\n    return new Error();\n};\n// Function that gets the best sellers list from NYTimes, converts the results acoordingly and\n// saves them as state's nyTimesBestSeller array.\n// If there's an error, then state's nyTimesBestSeller array becomes empty.\nconst $b5fff788044e8818$export$27f65d7f5f1b7a3f = async function() {\n    try {\n        const res = await fetch(`${(0, $2c680b472f58150a$export$ac7cf50e2985a171)}?api-key=${(0, $2c680b472f58150a$export$bd32ffbf4b3332d0)}`);\n        if (!res.ok || res.status !== 200) throw new Error();\n        const overviewBestSellers = (await res.json()).results.lists;\n        $b5fff788044e8818$export$ca000e230c0caa3e.nyTimesBestSeller = overviewBestSellers.map((obj)=>{\n            const listArea = obj.list_name;\n            const booksInArea = obj.books.map((book)=>{\n                return {\n                    author: book.author,\n                    imageSource: book.book_image,\n                    isbn: book.primary_isbn13,\n                    title: book.title\n                };\n            });\n            return {\n                listName: listArea,\n                books: booksInArea\n            };\n        });\n    } catch (e) {\n        e.message = \"Could not get data from server\";\n        $b5fff788044e8818$export$ca000e230c0caa3e.nyTimesBestSeller = [];\n    }\n};\n// To navigate the NYTimes API limit, this function runs periodically and updates state's nyTimesBestSeller array.\n// The only downside is that if it returns an empty array, it has to wait a long time to get new data.\n// The function also runs immediately so that there is always something happening to the state's nyTimesBestSeller array\nconst $b5fff788044e8818$var$keepUpdatingStateNyTimesBestSeller = async function() {\n    await $b5fff788044e8818$export$27f65d7f5f1b7a3f();\n    setInterval($b5fff788044e8818$export$27f65d7f5f1b7a3f, (0, $2c680b472f58150a$export$4f8eae1c44114f3f));\n};\n$b5fff788044e8818$var$keepUpdatingStateNyTimesBestSeller();\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and updates state's search object, else returns an Error.\n// Will run when SearchPage is first loaded and also when the user presses the search button\nconst $b5fff788044e8818$export$bbd203e5b1b42fad = async function(isbn) {\n    try {\n        $b5fff788044e8818$export$ca000e230c0caa3e.search.query = isbn;\n        const bookSearchResult = await $b5fff788044e8818$export$9d680f2f909f7ccd(isbn);\n        if (bookSearchResult instanceof Error) throw bookSearchResult;\n        if (typeof bookSearchResult === \"string\") {\n            $b5fff788044e8818$export$ca000e230c0caa3e.search.result = bookSearchResult;\n            return;\n        }\n        const bookInLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.find((book)=>book.isbn === bookSearchResult.isbn);\n        const bookNotInLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.find((book)=>book.isbn === bookSearchResult.isbn);\n        if (bookInLibrary !== undefined) $b5fff788044e8818$export$ca000e230c0caa3e.search.result = bookInLibrary;\n        else if (bookNotInLibrary !== undefined) $b5fff788044e8818$export$ca000e230c0caa3e.search.result = bookNotInLibrary;\n        else {\n            $b5fff788044e8818$export$ca000e230c0caa3e.search.result = bookSearchResult;\n            $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.push(bookSearchResult);\n        }\n    } catch (e) {\n        return e;\n    }\n};\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and updates state's viewed book into a BookObj or \"No result\", else returns an Error\n// Will run when BookPage is first loaded. The isbn param is taken from the isbn query parameter on the URL\nconst $b5fff788044e8818$export$e460a53607c34132 = async function(isbn) {\n    try {\n        const bookSearchResult = await $b5fff788044e8818$export$9d680f2f909f7ccd(isbn);\n        if (bookSearchResult instanceof Error) throw bookSearchResult;\n        if (typeof bookSearchResult === \"string\") throw new Error(\"No result found for the ISBN provided\");\n        const bookInLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.libraryBooks.find((book)=>book.isbn === bookSearchResult.isbn);\n        const bookNotInLibrary = $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.find((book)=>book.isbn === bookSearchResult.isbn);\n        if (bookInLibrary !== undefined) $b5fff788044e8818$export$ca000e230c0caa3e.viewedBook = bookInLibrary;\n        else if (bookNotInLibrary !== undefined) $b5fff788044e8818$export$ca000e230c0caa3e.viewedBook = bookNotInLibrary;\n        else {\n            $b5fff788044e8818$export$ca000e230c0caa3e.viewedBook = bookSearchResult;\n            $b5fff788044e8818$export$ca000e230c0caa3e.nonLibraryBooks.push(bookSearchResult);\n        }\n    } catch (e) {\n        return e;\n    }\n};\n// Function to get the book object from either Open Library or Google Books API\n// Google Books API is the first choice, if it returns an error or \"No result\", then Open Library is used\nconst $b5fff788044e8818$export$9d680f2f909f7ccd = async function(isbn) {\n    try {\n        const googleBooksSearchResult = await $b5fff788044e8818$export$4388d639414064ea(isbn);\n        if (googleBooksSearchResult instanceof Error || typeof googleBooksSearchResult === \"string\") {\n            const openLibrarySearchResult = await $b5fff788044e8818$export$21008b4ac4552409(isbn);\n            if (openLibrarySearchResult instanceof Error) throw openLibrarySearchResult;\n            if (typeof openLibrarySearchResult === \"string\") return openLibrarySearchResult;\n            return openLibrarySearchResult;\n        }\n        return googleBooksSearchResult;\n    } catch (e) {\n        return e;\n    }\n};\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and returns either a BookObj object or \"No result\", else returns an Error\nconst $b5fff788044e8818$export$21008b4ac4552409 = async function(isbn) {\n    try {\n        const res = await fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&format=json&jscmd=data`);\n        if (!res.ok || res.status !== 200) throw new Error();\n        const dataOpenLibrary = await res.json();\n        if (Object.keys(dataOpenLibrary).length === 0) return \"No result\";\n        const mainObject = dataOpenLibrary[`ISBN:${isbn}`];\n        // To get author(s)\n        const bkAuthor = mainObject.authors?.map((authObj)=>{\n            return authObj.name;\n        }).join(\", \") ?? null;\n        // To get image source\n        const bkImageSource = mainObject.cover?.large ?? null;\n        // To get isbn\n        const bkIsbnArr = mainObject.identifiers.isbn_13 ?? mainObject.identifiers.isbn_10;\n        const bkIsbn = bkIsbnArr[0];\n        // To get pages\n        const bkPagesCheck = mainObject.number_of_pages ?? mainObject.pagination ?? null;\n        const bkPages = typeof bkPagesCheck === \"number\" ? bkPagesCheck.toString() : bkPagesCheck;\n        // To get year published\n        const bkYearPublished = mainObject.publish_date ?? null;\n        // To get publisher\n        const bkPublisher = mainObject.publishers?.map((publ)=>publ.name).join(\", \") ?? null;\n        // To get title\n        const bkTitle = mainObject.title ?? null;\n        // To get link for book\n        const bkLink = mainObject.url ?? null;\n        const objToReturn = {\n            author: bkAuthor,\n            imageSource: bkImageSource,\n            isbn: bkIsbn,\n            numberOfPages: bkPages,\n            datePublished: bkYearPublished,\n            publisher: bkPublisher,\n            title: bkTitle,\n            link: bkLink,\n            location: \"not-in-library\"\n        };\n        return objToReturn;\n    } catch (e) {\n        e.message = \"Could not get data from server\";\n        return e;\n    }\n};\n// Function that accepts isbn as string, goes through Google Books API to get the book\n// and returns either a BookObj object or \"No result\", else returns an Error\nconst $b5fff788044e8818$export$4388d639414064ea = async function(isbn) {\n    try {\n        const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${isbn}&key=${(0, $2c680b472f58150a$export$af6d6d1dacc88501)}`);\n        if (!res.ok || res.status !== 200) throw new Error();\n        const dataGoogleBooks = await res.json();\n        if (dataGoogleBooks.totalItems === 0) return \"No result\";\n        const [mainObject] = dataGoogleBooks.items;\n        const { volumeInfo: volumeInfo } = mainObject;\n        // To get author(s)\n        // const bkAuthor = mainObject.volumeInfo.authors?.join(\", \") ?? null;\n        const bkAuthor = volumeInfo.authors?.join(\", \") ?? null;\n        // To get image source\n        // const bkImageSource = mainObject.volumeInfo.imageLinks?.thumbnail ?? null;\n        const bkImageSource = volumeInfo.imageLinks?.thumbnail ?? volumeInfo.imageLinks?.smallThumbnail ?? null;\n        // To get isbn\n        // const bkIsbn = mainObject.volumeInfo.industryIdentifiers[0].identifier;\n        const bkIsbn = volumeInfo.industryIdentifiers?.find((obj)=>obj.type === \"ISBN_13\")?.identifier ?? volumeInfo.industryIdentifiers?.find((obj)=>obj.type === \"ISBN_10\")?.identifier ?? \"N/A\";\n        // To get pages\n        // const bkPages = mainObject.volumeInfo.pageCount?.toString() ?? null;\n        const bkPages = volumeInfo.pageCount === 0 ? null : volumeInfo.pageCount?.toString() ?? null;\n        // To get year published\n        // const bkYearPublished = mainObject.volumeInfo.publishedDate ?? null;\n        const bkYearPublished = volumeInfo.publishedDate ?? null;\n        // To get publisher\n        // const bkPublisher = mainObject.volumeInfo.publisher ?? null;\n        const bkPublisher = volumeInfo.publisher ?? null;\n        // To get title\n        // const bkTitle = mainObject.volumeInfo.title ?? null;\n        const bkTitle = volumeInfo.title ?? null;\n        // To get link for book\n        const bkLink = mainObject.volumeInfo.previewLink ?? null;\n        const objToReturn = {\n            author: bkAuthor,\n            imageSource: bkImageSource,\n            isbn: bkIsbn,\n            numberOfPages: bkPages,\n            datePublished: bkYearPublished,\n            publisher: bkPublisher,\n            title: bkTitle,\n            link: bkLink,\n            location: \"not-in-library\"\n        };\n        return objToReturn;\n    } catch (e) {\n        e.message = \"Could not get data from server\";\n        return e;\n    }\n};\n\n\nclass $438de2132408bd88$export$36d69433c4f81145 extends HTMLElement {\n    _data;\n    constructor(){\n        super();\n        this.classList.add(\"home-page\");\n    }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        if (this._data !== data) this._data = data;\n    }\n    connectedCallback() {\n        this.updateThisData();\n    }\n    async updateThisData() {\n        if ((0, $b5fff788044e8818$export$ca000e230c0caa3e).nyTimesBestSeller.length === 0) await (0, $b5fff788044e8818$export$27f65d7f5f1b7a3f)();\n        this.data = (0, $b5fff788044e8818$export$ca000e230c0caa3e).nyTimesBestSeller;\n        this.render();\n        const nytCatCards = this.querySelectorAll(\"nyt-category-card\");\n        if (nytCatCards.length !== 0) nytCatCards.forEach((card, index)=>{\n            card.data = this._data[index];\n        });\n    }\n    render() {\n        this.innerHTML = this.getMarkUp();\n    }\n    getMarkUp() {\n        if (this._data.length === 0) return `<h2 style=\"margin-top: 10rem; display: flex; justify-content: center\">Oops. You have reached the limit for calling the NYTimes API Endpoint.</h2>`;\n        return `\n      <h1>NY Times Best Sellers for this week</h1>\n      ${this._data.map((obj)=>{\n            return `<nyt-category-card></nyt-category-card>`;\n        }).join(\"\")}\n    `;\n    }\n}\ncustomElements.define(\"home-page\", $438de2132408bd88$export$36d69433c4f81145);\n\n\n\n\nvar $02d8e3fb041abbca$exports = {};\n$02d8e3fb041abbca$exports = new URL(\"generic-book.b8da78ac.png\", import.meta.url).toString();\n\n\nclass $87c5a0206e01948f$export$2e2bcd8739ae039 extends HTMLElement {\n    _data;\n    constructor(){\n        super();\n    }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        this._data = data;\n        this.render();\n    }\n    connectedCallback() {\n        this.addEventListener(\"click\", (e)=>{\n            this.btnPressed(e);\n        });\n    }\n    btnPressed(e) {\n        const libButton = e.target.closest(\"[data-library][data-isbn]\");\n        console.log(libButton);\n        if (libButton !== null) {\n            const isbn = libButton.dataset.isbn;\n            const btnLibrary = libButton.dataset.library;\n            console.log(isbn, btnLibrary);\n            if (typeof isbn === \"string\" && typeof btnLibrary === \"string\") {\n                const updatedCardState = (0, $b5fff788044e8818$export$21fa342788cd4585)(btnLibrary, isbn);\n                console.log(updatedCardState);\n                if (!(updatedCardState instanceof Error)) this.data = updatedCardState;\n            }\n            const libBtnPressed = new CustomEvent(\"lib-btn-pressed\", {\n                bubbles: true,\n                detail: {\n                    totalBooksDone: ()=>(0, $b5fff788044e8818$export$ca000e230c0caa3e).libraryBooks.filter((book)=>book.location === \"booksDone\").length,\n                    totalBooksInProgress: ()=>(0, $b5fff788044e8818$export$ca000e230c0caa3e).libraryBooks.filter((book)=>book.location === \"booksInProgress\").length,\n                    totalBooksToRead: ()=>(0, $b5fff788044e8818$export$ca000e230c0caa3e).libraryBooks.filter((book)=>book.location === \"booksToRead\").length\n                }\n            });\n            this.dispatchEvent(libBtnPressed);\n        }\n    }\n    render() {\n        this.innerHTML = this.getMarkUp();\n    }\n    getLibraryButtonsMarkUp() {\n        if (this._data.location === \"booksInProgress\") return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n        `;\n        if (this._data.location === \"booksToRead\") return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n      `;\n        if (this._data.location === \"booksDone\") return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n        `;\n        return `\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n        ><span>In Progress</span>\n      </button>\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n      </button>\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n      </button>\n        `;\n    }\n    getMarkUp() {\n        return `\n  <div class=\"book-obj-card\" style=\"margin-bottom: 100px\">\n    <div class=\"book-obj-card__img\">\n      <a href=\"/book?isbn=${this._data.isbn}\">\n        <img src=\"${this._data.imageSource ?? (0, (/*@__PURE__*/$parcel$interopDefault($02d8e3fb041abbca$exports)))}\" alt=\"${this._data.title} by ${this._data.author}\" />\n      </a>\n    </div>\n    <div class=\"book-obj-card__info\">\n      <h2>${this._data.title ?? \"N/A\"}</h2>\n      <p>${this._data.author ?? \"N/A\"}</p>\n      <div>\n        ${this.getLibraryButtonsMarkUp()}\n      </div>\n    </div>\n    <a href=\"/book?isbn=${this._data.isbn}\">\n      Go to book page &nbsp; <i class=\"fa-solid fa-arrow-right-from-bracket\"></i>\n    </a>\n  </div>\n    `;\n    }\n}\ncustomElements.define(\"book-obj-card\", $87c5a0206e01948f$export$2e2bcd8739ae039);\n\n\nclass $4593eb9f2ac97335$export$2e2bcd8739ae039 extends HTMLElement {\n    _data;\n    constructor(){\n        super();\n    }\n    get data() {\n        return this._data;\n    }\n    set data(data) {\n        if (this._data !== data) this._data = data;\n    }\n    connectedCallback() {\n        this.data = (0, $b5fff788044e8818$export$ca000e230c0caa3e).search;\n        this.render();\n        const bookObjCard = this.querySelector(\"book-obj-card\");\n        if (bookObjCard !== null && this._data.result !== null && this._data.result !== \"No result\") bookObjCard.data = this._data.result;\n        this.addEventListener(\"click\", (e)=>{\n            this.updateThisData(e);\n        });\n    }\n    disconnectedCallback() {\n        (0, $b5fff788044e8818$export$732216ae7a4dfc6c)();\n    }\n    async updateThisData(e) {\n        const searchBookButton = e.target.closest(\"#book-search-btn\");\n        const searchQuery = this.querySelector(\"input\")?.value?.trim();\n        const searchResultsArea = this.querySelector(\".search-results\");\n        if (searchBookButton === null || searchQuery === undefined || searchResultsArea === null) return;\n        if (searchQuery.length === 0) {\n            searchResultsArea.innerHTML = `<h2>Please enter a value</h2>`;\n            return;\n        }\n        if (isNaN(Number(searchQuery))) {\n            searchResultsArea.innerHTML = `<h2>Please enter a valid ISBN with only the numbers</h2>`;\n            return;\n        }\n        try {\n            const update = await (0, $b5fff788044e8818$export$bbd203e5b1b42fad)(searchQuery);\n            if (update instanceof Error) throw update;\n            this.data = (0, $b5fff788044e8818$export$ca000e230c0caa3e).search;\n            this.render();\n            const bookObjCard = this.querySelector(\"book-obj-card\");\n            if (bookObjCard !== null && this._data.result !== null && this._data.result !== \"No result\") bookObjCard.data = this._data.result;\n        } catch (e) {\n            searchResultsArea.innerHTML = `<h2>${e.message}</h2>`;\n        }\n    }\n    renderSearchResultsArea() {\n        if (this._data.result === null) return \"<h2>Please enter an ISBN to search for a book \\uD83D\\uDE42.</h2>\";\n        if (this._data.result === \"No result\") return `<h2>Oops! No result found for ${this._data.query}</h2>`;\n        return `\n      <book-obj-card></book-obj-card>\n    `;\n    }\n    render() {\n        this.innerHTML = this.getMarkUp();\n    }\n    getMarkUp() {\n        return `\n  <div class=\"search-page\">\n    <div class=\"search-area\">\n      <div id=\"search-form\">\n        <label><h2>Search by book ISBN:</h2></label>\n        <h2>Please enter only the numbers</h2>\n        <div>\n          <input type=\"text\" id=\"book-search\" autocomplete=\"off\" value=\"${this._data.query}\" />\n          <button id=\"book-search-btn\"><p>FIND BOOK</p></button>\n        </div>\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"search-results\">\n      ${this.renderSearchResultsArea()}\n    </div>\n  </div>    \n    `;\n    }\n}\ncustomElements.define(\"search-page\", $4593eb9f2ac97335$export$2e2bcd8739ae039);\n\n\n\n\n//# sourceMappingURL=index.7f585340.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"1LzKV\\\",\\\"index.7f585340.js\\\",\\\"7Lx5k\\\",\\\"generic-book.b8da78ac.png\\\"]\"));","import \"./router\";\nimport \"./navControl\";\nimport \"./hamburgerControl\";\nimport \"./components/home-page\";\nimport \"./components/search-page\";\n","\n","import type { LibButtonPressedEventDetails } from \"./types\";\n\nconst elBooksToRead = document.getElementById(\"books-to-read-total\");\nconst elBooksInProgress = document.getElementById(\"books-in-progress-total\");\nconst elBooksDone = document.getElementById(\"books-done-total\");\nconst elLibraryTotal = document.getElementById(\"library-total\");\n\nif (elBooksToRead !== null && elBooksInProgress !== null && elBooksDone !== null && elLibraryTotal !== null) {\n  document.addEventListener(\"lib-btn-pressed\", (e) => {\n    const detail = (e as CustomEvent<LibButtonPressedEventDetails>).detail;\n    console.log(detail);\n\n    elBooksToRead.textContent = detail.totalBooksToRead().toString();\n    elBooksInProgress.textContent = detail.totalBooksInProgress().toString();\n    elBooksDone.textContent = detail.totalBooksDone().toString();\n    elLibraryTotal.textContent = (\n      detail.totalBooksToRead() +\n      detail.totalBooksInProgress() +\n      detail.totalBooksDone()\n    ).toString();\n  });\n}\n","const hamburgerButton = document.querySelector(\".hamburger i\");\nconst navSection = document.querySelector(\"nav\");\nconst closeBtn = document.querySelector(\".close-btn\");\n\nif (hamburgerButton !== null) {\n  hamburgerButton.addEventListener(\"click\", function (e) {\n\n    if (navSection !== null) {\n      navSection.classList.add(\"hamburger-clicked\");\n    }\n  });\n}\n\nif (closeBtn !== null) {\n  closeBtn.addEventListener(\"click\", function (e) {\n\n    if (navSection !== null) {\n      navSection.classList.remove(\"hamburger-clicked\");\n    }\n  });\n}\n","import type { nyTimesHomePageListObj } from \"../types\";\nimport type NytCategoryCard from \"./nyt-category-card\";\nimport \"./nyt-category-card\";\nimport { state, updateStateNyTimesBestSeller } from \"../model\";\n\nexport class HomePage extends HTMLElement {\n  _data!: nyTimesHomePageListObj[];\n\n  constructor() {\n    super();\n    this.classList.add(\"home-page\");\n  }\n\n  get data(): nyTimesHomePageListObj[] {\n    return this._data;\n  }\n\n  set data(data) {\n    if (this._data !== data) {\n      this._data = data;\n    }\n  }\n\n  connectedCallback(): void {\n    this.updateThisData();\n  }\n\n  async updateThisData(): Promise<void> {\n    if (state.nyTimesBestSeller.length === 0) {\n      await updateStateNyTimesBestSeller();\n    }\n    this.data = state.nyTimesBestSeller;\n    this.render();\n\n    const nytCatCards = this.querySelectorAll(\"nyt-category-card\");\n\n    if (nytCatCards.length !== 0) {\n      nytCatCards.forEach((card, index) => {\n        (card as NytCategoryCard).data = this._data[index];\n      });\n    }\n  }\n\n  render(): void {\n    this.innerHTML = this.getMarkUp();\n  }\n\n  getMarkUp(): string {\n    if (this._data.length === 0) {\n      return `<h2 style=\"margin-top: 10rem; display: flex; justify-content: center\">Oops. You have reached the limit for calling the NYTimes API Endpoint.</h2>`;\n    }\n\n    return `\n      <h1>NY Times Best Sellers for this week</h1>\n      ${this._data\n        .map((obj) => {\n          return `<nyt-category-card></nyt-category-card>`;\n        })\n        .join(\"\")}\n    `;\n  }\n}\n\ncustomElements.define(\"home-page\", HomePage);\n","import type { nyTimesHomePageListObj } from \"../types\";\nimport type NytBookCard from \"./nyt-book-card\";\nimport \"./nyt-book-card\";\n\nexport default class NytCategoryCard extends HTMLElement {\n  _data!: nyTimesHomePageListObj;\n\n  constructor() {\n    super();\n    this.classList.add(\"nyt-category-card\");\n  }\n\n  get data(): nyTimesHomePageListObj {\n    return this._data;\n  }\n\n  set data(data) {\n    if (this._data !== data) {\n      this._data = data;\n      this.render();\n\n      const allBookCardEls = this.querySelectorAll(\"nyt-book-card\");\n      allBookCardEls.forEach((book, index) => {\n        (book as NytBookCard).data = this.data.books[index];\n      });\n    }\n  }\n\n  connectedCallback(): void {}\n\n  render(): void {\n    this.innerHTML = this.getMarkUp();\n  }\n\n  getMarkUp(): string {\n    return `\n        <h2>${this._data.listName}</h2>\n        <div>\n        ${this._data.books\n          .map((bk) => {\n            return `<nyt-book-card></nyt-book-card>`;\n          })\n          .join(\"\")}\n        </div>\n      `;\n  }\n}\n\ncustomElements.define(\"nyt-category-card\", NytCategoryCard);\n","import type { BookObjNYT } from \"../types\";\n\nexport default class NytBookCard extends HTMLElement {\n  _data!: BookObjNYT;\n\n  constructor() {\n    super();\n    this.classList.add(\"nyt-book-card\");\n  }\n\n  get data(): BookObjNYT {\n    return this._data;\n  }\n\n  set data(data: BookObjNYT) {\n    if (this._data !== data) {\n      this._data = data;\n      this.render();\n    }\n  }\n\n  render(): void {\n    this.innerHTML = this.getMarkUp();\n  }\n\n  getMarkUp(): string {\n    return `\n      <a href=\"/book?isbn=${this._data.isbn}\">\n        <div><img src=\"${this._data.imageSource}\" alt=\"${this._data.title} by ${this._data.author} cover photo\" /></div>\n        <p>${this._data.title}</p>\n        <p><span>${this._data.author}</span></p>\n      </a>\n      `;\n  }\n}\n\ncustomElements.define(\"nyt-book-card\", NytBookCard);\n","import type {\n  State,\n  BestSellersData,\n  BookObjNYT,\n  OpenLibraryData,\n  LibraryLocation,\n  BookObj,\n  Item,\n  Root\n} from \"./types\";\nimport {\n  NY_TIMES_API_KEY,\n  NY_TIMES_BEST_SELLERS_URL,\n  NY_TIMES_API_CALL_LIMIT_SECONDS,\n  GOOGLE_BOOKS_API_KEY\n} from \"./config\";\n\nconst state: State = {\n  viewedBook: \"No result\",\n  nyTimesBestSeller: [],\n  search: {\n    query: \"\",\n    result: null\n  },\n  libraryBooks: [],\n  nonLibraryBooks: [],\n  locations: [\"booksDone\", \"booksInProgress\", \"booksToRead\"]\n};\n\n// Function resets the state.search properties to their default values\nconst resetStateSearch = function (): void {\n  state.search.query = \"\";\n  state.search.result = null;\n};\n\n// Function takes in the isbn from the data-isbn property and the btnLibrary param is from the data-library property\n// on the pressed button. It returns either the\nconst addToLibraryBtnIsPressed = function (btnDataset: LibraryLocation, isbn: string): Error | BookObj {\n  const bookLibraryIndex = state.libraryBooks.findIndex((bk) => bk.isbn === isbn);\n  const bookLibrary = state.libraryBooks.find((bk) => bk.isbn === isbn);\n\n  if (bookLibraryIndex !== -1 && bookLibrary !== undefined) {\n    if (bookLibrary.location === btnDataset) {\n      const [updatedBk] = state.libraryBooks.splice(bookLibraryIndex, 1);\n\n      updatedBk.location = \"not-in-library\";\n      state.nonLibraryBooks.push(updatedBk);\n\n      return updatedBk;\n    }\n\n    bookLibrary.location = btnDataset;\n    state.libraryBooks.splice(bookLibraryIndex, 1, bookLibrary);\n    return bookLibrary;\n  }\n\n  const bookNonLibraryIndex = state.nonLibraryBooks.findIndex((bk) => bk.isbn === isbn);\n  const bookNonLibrary = state.nonLibraryBooks.find((bk) => bk.isbn === isbn);\n\n  if (bookNonLibraryIndex !== -1 && bookNonLibrary !== undefined) {\n    const [updatedBk] = state.nonLibraryBooks.splice(bookNonLibraryIndex, 1);\n    updatedBk.location = btnDataset;\n\n    state.libraryBooks.push(updatedBk);\n\n    return updatedBk;\n  }\n\n  return new Error();\n};\n\n// Function that gets the best sellers list from NYTimes, converts the results acoordingly and\n// saves them as state's nyTimesBestSeller array.\n// If there's an error, then state's nyTimesBestSeller array becomes empty.\nconst updateStateNyTimesBestSeller = async function (): Promise<void> {\n  try {\n    const res = await fetch(`${NY_TIMES_BEST_SELLERS_URL}?api-key=${NY_TIMES_API_KEY}`);\n    if (!res.ok || res.status !== 200) throw new Error();\n\n    const overviewBestSellers: BestSellersData[] = (await res.json()).results.lists;\n\n    state.nyTimesBestSeller = overviewBestSellers.map((obj) => {\n      const listArea: string = obj.list_name;\n      const booksInArea: BookObjNYT[] = obj.books.map((book) => {\n        return {\n          author: book.author,\n          imageSource: book.book_image,\n          isbn: book.primary_isbn13,\n          title: book.title\n        };\n      });\n\n      return { listName: listArea, books: booksInArea };\n    });\n  } catch (e) {\n    (e as Error).message = \"Could not get data from server\";\n    state.nyTimesBestSeller = [];\n  }\n};\n\n// To navigate the NYTimes API limit, this function runs periodically and updates state's nyTimesBestSeller array.\n// The only downside is that if it returns an empty array, it has to wait a long time to get new data.\n// The function also runs immediately so that there is always something happening to the state's nyTimesBestSeller array\nconst keepUpdatingStateNyTimesBestSeller = async function (): Promise<void> {\n  await updateStateNyTimesBestSeller();\n\n  setInterval(updateStateNyTimesBestSeller, NY_TIMES_API_CALL_LIMIT_SECONDS);\n};\nkeepUpdatingStateNyTimesBestSeller();\n\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and updates state's search object, else returns an Error.\n// Will run when SearchPage is first loaded and also when the user presses the search button\nconst updateStateSearchResult = async function (isbn: string): Promise<undefined | Error> {\n  try {\n    state.search.query = isbn;\n\n    const bookSearchResult = await getBookObj(isbn);\n    if (bookSearchResult instanceof Error) throw bookSearchResult;\n\n    if (typeof bookSearchResult === \"string\") {\n      state.search.result = bookSearchResult;\n      return;\n    }\n\n    const bookInLibrary = state.libraryBooks.find((book) => book.isbn === bookSearchResult.isbn);\n    const bookNotInLibrary = state.nonLibraryBooks.find((book) => book.isbn === bookSearchResult.isbn);\n\n    if (bookInLibrary !== undefined) {\n      state.search.result = bookInLibrary;\n    } else if (bookNotInLibrary !== undefined) {\n      state.search.result = bookNotInLibrary;\n    } else {\n      state.search.result = bookSearchResult;\n      state.nonLibraryBooks.push(bookSearchResult);\n    }\n  } catch (e) {\n    return e as Error;\n  }\n};\n\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and updates state's viewed book into a BookObj or \"No result\", else returns an Error\n// Will run when BookPage is first loaded. The isbn param is taken from the isbn query parameter on the URL\nconst updateStateViewedBook = async function (isbn: string): Promise<undefined | Error> {\n  try {\n    const bookSearchResult = await getBookObj(isbn);\n    if (bookSearchResult instanceof Error) throw bookSearchResult;\n\n    if (typeof bookSearchResult === \"string\") {\n      throw new Error(\"No result found for the ISBN provided\");\n    }\n\n    const bookInLibrary = state.libraryBooks.find((book) => book.isbn === bookSearchResult.isbn);\n    const bookNotInLibrary = state.nonLibraryBooks.find((book) => book.isbn === bookSearchResult.isbn);\n\n    if (bookInLibrary !== undefined) {\n      state.viewedBook = bookInLibrary;\n    } else if (bookNotInLibrary !== undefined) {\n      state.viewedBook = bookNotInLibrary;\n    } else {\n      state.viewedBook = bookSearchResult;\n      state.nonLibraryBooks.push(bookSearchResult);\n    }\n  } catch (e) {\n    return e as Error;\n  }\n};\n\n// Function to get the book object from either Open Library or Google Books API\n// Google Books API is the first choice, if it returns an error or \"No result\", then Open Library is used\nconst getBookObj = async function (isbn: string): Promise<BookObj | \"No result\" | Error> {\n  try {\n    const googleBooksSearchResult = await getBookObjFromGoogleBooks(isbn);\n\n    if (googleBooksSearchResult instanceof Error || typeof googleBooksSearchResult === \"string\") {\n      const openLibrarySearchResult = await getBookObjFromOpenLibrary(isbn);\n      if (openLibrarySearchResult instanceof Error) throw openLibrarySearchResult;\n\n      if (typeof openLibrarySearchResult === \"string\") {\n        return openLibrarySearchResult;\n      }\n\n      return openLibrarySearchResult;\n    }\n\n    return googleBooksSearchResult;\n  } catch (e: any) {\n    return e as Error;\n  }\n};\n\n// Function that accepts isbn as string, goes through Open Library to get the book\n// and returns either a BookObj object or \"No result\", else returns an Error\nconst getBookObjFromOpenLibrary = async function (isbn: string): Promise<BookObj | \"No result\" | Error> {\n  try {\n    const res = await fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&format=json&jscmd=data`);\n    if (!res.ok || res.status !== 200) throw new Error();\n\n    const dataOpenLibrary = await res.json();\n\n    if (Object.keys(dataOpenLibrary).length === 0) return \"No result\";\n\n    const mainObject: OpenLibraryData = dataOpenLibrary[`ISBN:${isbn}`];\n\n    // To get author(s)\n    const bkAuthor =\n      mainObject.authors\n        ?.map((authObj) => {\n          return authObj.name;\n        })\n        .join(\", \") ?? null;\n\n    // To get image source\n    const bkImageSource = mainObject.cover?.large ?? null;\n\n    // To get isbn\n    const bkIsbnArr = mainObject.identifiers.isbn_13 ?? mainObject.identifiers.isbn_10;\n    const bkIsbn = bkIsbnArr[0];\n\n    // To get pages\n    const bkPagesCheck = mainObject.number_of_pages ?? mainObject.pagination ?? null;\n    const bkPages = typeof bkPagesCheck === \"number\" ? bkPagesCheck.toString() : bkPagesCheck;\n\n    // To get year published\n    const bkYearPublished = mainObject.publish_date ?? null;\n\n    // To get publisher\n    const bkPublisher = mainObject.publishers?.map((publ) => publ.name).join(\", \") ?? null;\n\n    // To get title\n    const bkTitle = mainObject.title ?? null;\n\n    // To get link for book\n    const bkLink = mainObject.url ?? null;\n\n    const objToReturn: BookObj = {\n      author: bkAuthor,\n      imageSource: bkImageSource,\n      isbn: bkIsbn,\n      numberOfPages: bkPages,\n      datePublished: bkYearPublished,\n      publisher: bkPublisher,\n      title: bkTitle,\n      link: bkLink,\n      location: \"not-in-library\"\n    };\n\n    return objToReturn;\n  } catch (e) {\n    (e as Error).message = \"Could not get data from server\";\n    return e as Error;\n  }\n};\n\n// Function that accepts isbn as string, goes through Google Books API to get the book\n// and returns either a BookObj object or \"No result\", else returns an Error\nconst getBookObjFromGoogleBooks = async function (isbn: string): Promise<BookObj | \"No result\" | Error> {\n  try {\n    const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${isbn}&key=${GOOGLE_BOOKS_API_KEY}`);\n\n    if (!res.ok || res.status !== 200) throw new Error();\n\n    const dataGoogleBooks = (await res.json()) as Root;\n\n    if (dataGoogleBooks.totalItems === 0) return \"No result\";\n\n    const [mainObject]: Item[] = dataGoogleBooks.items;\n    const { volumeInfo } = mainObject;\n\n    // To get author(s)\n    // const bkAuthor = mainObject.volumeInfo.authors?.join(\", \") ?? null;\n    const bkAuthor = volumeInfo.authors?.join(\", \") ?? null;\n\n    // To get image source\n    // const bkImageSource = mainObject.volumeInfo.imageLinks?.thumbnail ?? null;\n    const bkImageSource = volumeInfo.imageLinks?.thumbnail ?? volumeInfo.imageLinks?.smallThumbnail ?? null;\n\n    // To get isbn\n    // const bkIsbn = mainObject.volumeInfo.industryIdentifiers[0].identifier;\n    const bkIsbn =\n      volumeInfo.industryIdentifiers?.find((obj) => obj.type === \"ISBN_13\")?.identifier ??\n      volumeInfo.industryIdentifiers?.find((obj) => obj.type === \"ISBN_10\")?.identifier ??\n      \"N/A\";\n\n    // To get pages\n    // const bkPages = mainObject.volumeInfo.pageCount?.toString() ?? null;\n    const bkPages = volumeInfo.pageCount === 0 ? null : volumeInfo.pageCount?.toString() ?? null;\n\n    // To get year published\n    // const bkYearPublished = mainObject.volumeInfo.publishedDate ?? null;\n    const bkYearPublished = volumeInfo.publishedDate ?? null;\n\n    // To get publisher\n    // const bkPublisher = mainObject.volumeInfo.publisher ?? null;\n    const bkPublisher = volumeInfo.publisher ?? null;\n\n    // To get title\n    // const bkTitle = mainObject.volumeInfo.title ?? null;\n    const bkTitle = volumeInfo.title ?? null;\n\n    // To get link for book\n    const bkLink = mainObject.volumeInfo.previewLink ?? null;\n\n    const objToReturn: BookObj = {\n      author: bkAuthor,\n      imageSource: bkImageSource,\n      isbn: bkIsbn,\n      numberOfPages: bkPages,\n      datePublished: bkYearPublished,\n      publisher: bkPublisher,\n      title: bkTitle,\n      link: bkLink,\n      location: \"not-in-library\"\n    };\n\n    return objToReturn;\n  } catch (e) {\n    (e as Error).message = \"Could not get data from server\";\n    return e as Error;\n  }\n};\n\nexport {\n  state,\n  getBookObjFromOpenLibrary,\n  getBookObjFromGoogleBooks,\n  getBookObj,\n  addToLibraryBtnIsPressed,\n  updateStateNyTimesBestSeller,\n  updateStateSearchResult,\n  updateStateViewedBook,\n  resetStateSearch\n};\n","export const NY_TIMES_API_KEY: string = \"LdtHYiyVFZ8XYsUSqTxpeal9VFqsvDbs\";\nexport const NY_TIMES_BEST_SELLERS_URL: string = \"https://api.nytimes.com/svc/books/v3/lists/overview.json\";\nexport const GOOGLE_BOOKS_API_KEY: string = \"AIzaSyAgq8935QbNIHZ27D5kf-LIWkUazKv8pV8\";\nexport const NY_TIMES_API_CALL_LIMIT_SECONDS: number = 240000;\n\n// NYTimes URL example: \"https://api.nytimes.com/svc/books/v3/lists/overview.json?api-key=LdtHYiyVFZ8XYsUSqTxpeal9VFqsvDbs\"\n// OpenLibrary URL example: \"https://openlibrary.org/api/books?bibkeys=ISBN:9781649374042&format=json&jscmd=data\"\n","import { state, resetStateSearch, updateStateSearchResult } from \"../model\";\nimport type { BookObj } from \"../types\";\nimport type BookObjCard from \"./book-obj-card\";\nimport \"./book-obj-card\";\n\nexport default class SearchPage extends HTMLElement {\n  _data!: {\n    query: string;\n    result: BookObj | \"No result\" | null;\n  };\n\n  constructor() {\n    super();\n  }\n\n  get data(): {\n    query: string;\n    result: BookObj | \"No result\" | null;\n  } {\n    return this._data;\n  }\n\n  set data(data) {\n    if (this._data !== data) {\n      this._data = data;\n    }\n  }\n\n  connectedCallback(): void {\n    this.data = state.search;\n    this.render();\n\n    const bookObjCard = this.querySelector(\"book-obj-card\");\n    if (bookObjCard !== null && this._data.result !== null && this._data.result !== \"No result\") {\n      (bookObjCard as BookObjCard).data = this._data.result;\n    }\n\n    this.addEventListener(\"click\", (e) => {\n      this.updateThisData(e);\n    });\n  }\n\n  disconnectedCallback(): void {\n    resetStateSearch();\n  }\n\n  async updateThisData(e: Event): Promise<void> {\n    const searchBookButton = (e.target as HTMLElement).closest(\"#book-search-btn\");\n    const searchQuery = this.querySelector(\"input\")?.value?.trim();\n    const searchResultsArea = this.querySelector(\".search-results\");\n\n    if (searchBookButton === null || searchQuery === undefined || searchResultsArea === null) return;\n\n    if (searchQuery.length === 0) {\n      searchResultsArea.innerHTML = `<h2>Please enter a value</h2>`;\n      return;\n    }\n\n    if (isNaN(Number(searchQuery))) {\n      searchResultsArea.innerHTML = `<h2>Please enter a valid ISBN with only the numbers</h2>`;\n      return;\n    }\n\n    try {\n      const update = await updateStateSearchResult(searchQuery);\n      if (update instanceof Error) throw update;\n\n      this.data = state.search;\n      this.render();\n\n      const bookObjCard = this.querySelector(\"book-obj-card\");\n      if (bookObjCard !== null && this._data.result !== null && this._data.result !== \"No result\") {\n        (bookObjCard as BookObjCard).data = this._data.result;\n      }\n    } catch (e) {\n      searchResultsArea.innerHTML = `<h2>${(e as Error).message}</h2>`;\n    }\n  }\n\n  renderSearchResultsArea(): string {\n    if (this._data.result === null) {\n      return \"<h2>Please enter an ISBN to search for a book .</h2>\";\n    }\n\n    if (this._data.result === \"No result\") {\n      return `<h2>Oops! No result found for ${this._data.query}</h2>`;\n    }\n\n    return `\n      <book-obj-card></book-obj-card>\n    `;\n  }\n\n  render(): void {\n    this.innerHTML = this.getMarkUp();\n  }\n\n  getMarkUp(): string {\n    return `\n  <div class=\"search-page\">\n    <div class=\"search-area\">\n      <div id=\"search-form\">\n        <label><h2>Search by book ISBN:</h2></label>\n        <h2>Please enter only the numbers</h2>\n        <div>\n          <input type=\"text\" id=\"book-search\" autocomplete=\"off\" value=\"${this._data.query}\" />\n          <button id=\"book-search-btn\"><p>FIND BOOK</p></button>\n        </div>\n      </div>\n    </div>\n\n    <hr />\n\n    <div class=\"search-results\">\n      ${this.renderSearchResultsArea()}\n    </div>\n  </div>    \n    `;\n  }\n}\n\ncustomElements.define(\"search-page\", SearchPage);\n","import type { BookObj, LibraryLocation, LibButtonPressedEventDetails } from \"../types\";\nimport { addToLibraryBtnIsPressed, state } from \"../model\";\nimport bookImage from \"url:../assets/images/generic-book.png\";\n\nexport default class BookObjCard extends HTMLElement {\n  _data!: BookObj;\n\n  constructor() {\n    super();\n  }\n\n  get data(): BookObj {\n    return this._data;\n  }\n\n  set data(data: BookObj) {\n    this._data = data;\n    this.render();\n  }\n\n  connectedCallback(): void {\n    this.addEventListener(\"click\", (e) => {\n      this.btnPressed(e);\n    });\n  }\n\n  btnPressed(e: Event): void {\n    const libButton = (e.target as HTMLElement).closest(\"[data-library][data-isbn]\");\n    console.log(libButton);\n\n    if (libButton !== null) {\n      const isbn = (libButton as HTMLElement).dataset.isbn;\n      const btnLibrary = (libButton as HTMLElement).dataset.library;\n      console.log(isbn, btnLibrary);\n\n      if (typeof isbn === \"string\" && typeof btnLibrary === \"string\") {\n        const updatedCardState = addToLibraryBtnIsPressed(btnLibrary as LibraryLocation, isbn);\n        console.log(updatedCardState);\n\n        if (!(updatedCardState instanceof Error)) {\n          this.data = updatedCardState;\n        }\n      }\n\n      const libBtnPressed = new CustomEvent<LibButtonPressedEventDetails>(\"lib-btn-pressed\", {\n        bubbles: true,\n        detail: {\n          totalBooksDone: () => state.libraryBooks.filter((book) => book.location === \"booksDone\").length,\n          totalBooksInProgress: () => state.libraryBooks.filter((book) => book.location === \"booksInProgress\").length,\n          totalBooksToRead: () => state.libraryBooks.filter((book) => book.location === \"booksToRead\").length\n        }\n      });\n      this.dispatchEvent(libBtnPressed);\n    }\n  }\n\n  render(): void {\n    this.innerHTML = this.getMarkUp();\n  }\n\n  getLibraryButtonsMarkUp(): string {\n    if (this._data.location === \"booksInProgress\") {\n      return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n        `;\n    }\n\n    if (this._data.location === \"booksToRead\") {\n      return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n      `;\n    }\n\n    if (this._data.location === \"booksDone\") {\n      return `\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n          ><span>In Progress</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n          <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n        </button>\n        <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n          <i class=\"fa-regular fa-circle-check\" style=\"color: #2aff1c\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n        </button>\n        `;\n    }\n\n    return `\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksInProgress\" title=\"Add to 'Books In Progress'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-book-open\"></i\n        ><span>In Progress</span>\n      </button>\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksToRead\" title=\"Add to 'Books To Read'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-list\"></i><span>To Read</span>\n      </button>\n      <button data-isbn=\"${this._data.isbn}\" data-library=\"booksDone\" title=\"Add to 'Books Done'\">\n        <i class=\"fa-solid fa-circle-plus\"></i> <i class=\"fa-solid fa-check\"></i><span>Done</span>\n      </button>\n        `;\n  }\n\n  getMarkUp(): string {\n    return `\n  <div class=\"book-obj-card\" style=\"margin-bottom: 100px\">\n    <div class=\"book-obj-card__img\">\n      <a href=\"/book?isbn=${this._data.isbn}\">\n        <img src=\"${this._data.imageSource ?? bookImage}\" alt=\"${this._data.title} by ${this._data.author}\" />\n      </a>\n    </div>\n    <div class=\"book-obj-card__info\">\n      <h2>${this._data.title ?? \"N/A\"}</h2>\n      <p>${this._data.author ?? \"N/A\"}</p>\n      <div>\n        ${this.getLibraryButtonsMarkUp()}\n      </div>\n    </div>\n    <a href=\"/book?isbn=${this._data.isbn}\">\n      Go to book page &nbsp; <i class=\"fa-solid fa-arrow-right-from-bracket\"></i>\n    </a>\n  </div>\n    `;\n  }\n}\n\ncustomElements.define(\"book-obj-card\", BookObjCard);\n","module.exports = new __parcel__URL__(\"generic-book.b8da78ac.png\").toString();"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$2611d7f58e198473$var$elBooksToRead","document","getElementById","$2611d7f58e198473$var$elBooksInProgress","$2611d7f58e198473$var$elBooksDone","$2611d7f58e198473$var$elLibraryTotal","addEventListener","e","detail","console","log","textContent","totalBooksToRead","totalBooksInProgress","totalBooksDone","$4b79e92dc6bca81b$var$hamburgerButton","querySelector","$4b79e92dc6bca81b$var$navSection","$4b79e92dc6bca81b$var$closeBtn","classList","add","remove","$d4f1bc7b0e4909bf$export$2e2bcd8739ae039","HTMLElement","_data","constructor","data","render","innerHTML","getMarkUp","isbn","imageSource","title","author","customElements","define","$efa215daeca880c5$export$2e2bcd8739ae039","allBookCardEls","querySelectorAll","forEach","book","index","books","connectedCallback","listName","map","bk","join","$b5fff788044e8818$export$ca000e230c0caa3e","nyTimesBestSeller","search","query","result","libraryBooks","nonLibraryBooks","$b5fff788044e8818$export$732216ae7a4dfc6c","$b5fff788044e8818$export$21fa342788cd4585","btnDataset","bookLibraryIndex","findIndex","bookLibrary","find","undefined","location","updatedBk","splice","push","bookNonLibraryIndex","bookNonLibrary","$b5fff788044e8818$export$27f65d7f5f1b7a3f","res","fetch","ok","status","overviewBestSellers","json","results","lists","obj","listArea","list_name","booksInArea","book_image","primary_isbn13","message","$b5fff788044e8818$var$keepUpdatingStateNyTimesBestSeller","setInterval","$b5fff788044e8818$export$bbd203e5b1b42fad","bookSearchResult","$b5fff788044e8818$export$9d680f2f909f7ccd","bookInLibrary","bookNotInLibrary","googleBooksSearchResult","$b5fff788044e8818$export$4388d639414064ea","openLibrarySearchResult","$b5fff788044e8818$export$21008b4ac4552409","dataOpenLibrary","keys","mainObject","bkAuthor","authors","authObj","name","bkImageSource","cover","large","bkIsbnArr","identifiers","isbn_13","isbn_10","bkIsbn","bkPagesCheck","number_of_pages","pagination","bkPages","bkYearPublished","publish_date","bkPublisher","publishers","publ","bkTitle","bkLink","numberOfPages","datePublished","publisher","link","dataGoogleBooks","totalItems","items","volumeInfo","imageLinks","thumbnail","smallThumbnail","industryIdentifiers","type","identifier","pageCount","publishedDate","previewLink","$438de2132408bd88$export$36d69433c4f81145","updateThisData","nytCatCards","card","$02d8e3fb041abbca$exports","$87c5a0206e01948f$export$2e2bcd8739ae039","btnPressed","libButton","target","closest","dataset","btnLibrary","library","updatedCardState","libBtnPressed","CustomEvent","bubbles","filter","dispatchEvent","getLibraryButtonsMarkUp","a","__esModule","default","$4593eb9f2ac97335$export$2e2bcd8739ae039","bookObjCard","disconnectedCallback","searchBookButton","searchQuery","value","trim","searchResultsArea","isNaN","Number","update","renderSearchResultsArea"],"version":3,"file":"index.7f585340.js.map"}